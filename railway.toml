# Railway Deployment Configuration

# Railway will automatically provide DATABASE_URL for PostgreSQL
# Railway can provide persistent storage at /data for media files

# Build and run configuration
[build]
builder = "metal"

# Railway will use the Procfile to determine the start command
# The Procfile currently runs: python manage.py migrate && python manage.py collectstatic && gunicorn...

# Environment variables (set these in Railway dashboard)
# DEBUG=False
# SECRET_KEY=<generate secure key>
# ALLOWED_HOSTS=<your-railway-domain>.railway.app
# DJANGO_SETTINGS_MODULE=myproject.settings.production (optional: command sets this)
# SECURE_SSL_REDIRECT=False (set to False for Railway health check compatibility)

# Volume mounts (add in Railway dashboard)
# - Go to web service → Settings → Volumes
# - Mount point: /data
# - Purpose: Persistent media storage (groomer images)

# Services
[services.web]
# Railway automatically detects Python projects
# Health check configuration
[services.web.healthchecks]
# Health check endpoint (Django has /health/ endpoint enabled)
[services.web.healthchecks.liveness]
path = "/health/"
# Use Railway's PORT environment variable for health check
initialDelaySeconds = 15

# PostgreSQL database (add in Railway dashboard)
# Service type: PostgreSQL
# Environment variable: DATABASE_URL (auto-provided by Railway)

# Redis cache (optional - add in Railway dashboard if needed)
# Service type: Redis
# Environment variable: REDIS_URL
