# Railway Deployment Configuration

# Railway will automatically provide DATABASE_URL for PostgreSQL
# Railway can provide persistent storage at /data for media files

# Build and run configuration
[build]
builder = "nixpacks"

[start]
command = "python manage.py collectstatic --noinput && python manage.py migrate --noinput && gunicorn myproject.wsgi:application --bind 0.0.0.0:8000"

# Environment variables (set these in Railway dashboard)
# DEBUG=False
# SECRET_KEY=<generate secure key>
# ALLOWED_HOSTS=<your-railway-domain>.railway.app
# DJANGO_SETTINGS_MODULE=myproject.settings.production
# MEDIA_ROOT=/data/media  (optional: set this after adding volume)

# Volume mounts (add in Railway dashboard)
# - Go to web service → Settings → Volumes
# - Mount point: /data
# - Purpose: Persistent media storage (groomer images)

# Services
[services.web]
# Railway automatically detects Python projects
# No additional config needed

# PostgreSQL database (add in Railway dashboard)
# Service type: PostgreSQL
# Environment variable: DATABASE_URL (auto-provided by Railway)

# Redis cache (optional - add in Railway dashboard if needed)
# Service type: Redis
# Environment variable: REDIS_URL
